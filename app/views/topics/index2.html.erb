<div class="container">
  <div class="row">
    <div class="text-center col-12">
      <h1 class="mt-3 mb-2">Your chatroom</h1>
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" id="mySwitch" name="active" value="yes" checked>
          <label class="form-check-label" for="mySwitch">Active</label>
        </div>
        <% if @joined_topics.present? %>
          <% @joined_topics.each do |topic| %>
            <div class="col-12" >
            <div class="head-card">
              <small><em class="text-muted"><%= distance_of_time_in_words_to_now(topic.created_at) %> ago</em></small>
              <small><em class="text-muted"><%= topic.messages.count %> messages</em></small>
            </div>
              <div class="card-topic" data-bs-toggle="modal" data-bs-target="#modal<%= topic.id %>">
                <div class="card-topic-info">
                  <div class="card-topic-info-name">
                    <button type="button" class="btn btn-success rounded-5"><%= topic.theme.name %></button>
                  </div>
                  <div class="card-topic-info-description">
                    <p><%= topic.description.truncate(35) %></p>
                  </div>
                </div>
                <div class="vertical-line">
                  <div class="avatar-with-badge-topics">
                    <% avatar = ["avatar-1.png", "avatar-2.png","avatar-3.png","avatar-4.png",
                    "avatar-5.png","avatar-6.png","avatar-7.png","avatar-8.png", "avatar-9.png","avatar-10.png"] %>
                    <%= image_tag("avatars/#{avatar.sample}", class: 'avatar-large', alt: 'avatar') %>
                    <i class="fa-solid fa-chess-pawn icon-50"></i>
                  </div>
                    <p class="mb-0"><%= topic.user.username %></p>
                  </div>
                </div>
              </div>
            </div>
            <%= render partial: 'topics/modal', locals: { topic: topic } %>
          <% end %>
        <% else %>
          <p>There are no topic matching your favorite themes for the moment.</p>
        <% end %>
    </div>
  </div>
</div>
